# 用户权限
## 查看用户
who

| 参数 | 说明 |
| :----: | :----: |
| -a | 打印能打印的全部 |
| -d | 打印死掉的进程 |
| -m | 同am i,mom likes |
| -q | 打印当前登录用户数及用户名 |
| -u | 打印当前登录用户登录信息 |
| -r | 打印运行等级 |

*每打开一个终端就会产生一个伪终端， pts/0 后面那个数字就表示打开的伪终端序号*
## 创建用户
### su，su- 与 sudo
* su <user> 可以切换到用户 user，执行时需要输入目标用户的密码
* sudo <cmd> 可以以特权级别运行 cmd 命令，需要当前用户属于 sudo 组，且需要输入当前用户的密码
* su - <user> 命令也是切换用户，同时环境变量也会跟着改变成目标用户的环境变量
```linux
$ sudo adduser <user>
```
## 用户组
* 使用 groups 命令
```linux
$ groups <user>
```
* 查看 /etc/group 文件
```linux
$ cat /etc/group | sort
```
### 加入 sudo 用户组
```linux
$ sudo usermod -G sudo <user>
```
*usermod 命令可以为用户添加用户组，同样使用该命令你必需有 root 权限*
## 删除用户
```linux
$ sudo deluser <user> --remove-home
```
# 文件权限
## 文件权限解读
```linux
$ ls -l
```
* 间隔顺序从前到后依次为

<kbd>文件类型和权限</kbd>+<kbd>连接数</kbd>+<kbd>所有者</kbd>+<kbd>所属用户组</kbd>+<kbd>文件大小</kbd>+<kbd>最后修改时间</kbd>+<kbd>文件名</kbd>

* 文件类型和权限占位解读

| 占位 | 说明 |
| :----: | :----: |
| 1 | 拥有者权限 |
| 3 | 所属用户组权限 |
| 3 | 其他用户权限 |

* 文件类型解读

| 显示 | 说明 |
| :----: | :----: |
| d | 目录 |
| l | 软连接 |
| b | 块设备 |
| c | 字符设备 |
| s | socket |
| p | 管道 |
| - | 普通文件 |

* 权限解读

| 显示 | 说明 |
| :----: | :----: |
| r | 允许读权限 |
| w | 允许写权限 |
| x | 允许执行权限 |

*注：记得使用man去查看详细使用 ls*

## 变更文件所有者
```linux
$ sudo chown <user> <file>
```

## 修改文件权限

* 二进制位数

| 显示 | 二进制位数 | 说明 |
| :----: | :----: | :----: |
| r | 2 | 4 |
| w | 1 | 2 |
| x | 0 | 1 |

```linux
$ chmod <三位二进制位数> <file>
```

* 加减赋值

| 显示 | 二进制位数 |
| :----: | :----: |
| g | group |
| o | others |
| u | user |
| + | 增加权限 |
| - | 去掉权限 |
| r | 读 |
| w | 写 |
| x | 执行 |

```linux
$ chmod <拥有者，组，其他><增减><权限>
```

*注意：adduser 和 useradd useradd 只创建用户，创建完了用 passwd 去设置新用户的密码。adduser 会创建用户，创建目录，创建密码（提示你设置）*
